<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    // ì„œë²„ì— ë°ì´í„° ìš”ì²­í•˜ê¸°
    // ì„œë²„: ë°ì´í„° ë‹¬ë¼ê³  í•˜ë©´ ë°ì´í„° ì£¼ëŠ” ì• 
    // ë°ì´í„°: html, css, js ë˜ëŠ” JSON ë°ì´í„° ë“±
    // ìš”ì²­: ì„œë²„ì— ì •í•´ë†“ì€ ê·œê²©ëŒ€ë¡œ ë§ì¶°ì„œ ë³´ë‚´ì•¼ ë¨, ì–´ë””(URL ì£¼ì†Œ)ë¡œ ì–´ë–¤ ë°©ë²•(GET/POST ë“±)ìœ¼ë¡œ ë³´ë‚¼ì§€ ë“±
    // ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ(ê²€ìƒ‰, ì¡°íšŒ)ëŠ” GET ìš”ì²­
    // ë°ì´í„°ë¥¼ ë³´ë‚¼ ë•Œ(ì¶”ê°€, ìˆ˜ì •, ì‚­ì œ)ëŠ” POST ë°©ì‹ ì‚¬ìš©
    // ê·¸ ì™¸ PUT(ì „ì²´ ìˆ˜ì •), PATCH(ë¶€ë¶„ ìˆ˜ì •), DELETE(ì‚­ì œ) ë“±ë„ ìˆìŒ

    // ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ì„œë²„ ìª½ ë°ì´í„° ìš”ì²­ ê°€ëŠ¥ = AJAX ì‚¬ìš©í•˜ë©´ ë¨(ë¹„ë™ê¸° ë°©ì‹, ìƒˆë¡œê³ ì¹¨ ì•ˆë¨)

    // AJAXë€?
    // Asynchronous JavaScript and XMLì˜ ì•½ì, ë¹„ë™ê¸° ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ XML
    // ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•´ì„œ ë¹„ë™ê¸°ì‹ìœ¼ë¡œ ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ë°©ì‹. ì´ ë•Œ XMLì„ ì´ìš©
    // ê¼­ XMLì„ ì´ìš©í•  í•„ìš”ëŠ” ì—†ê³ , ìµœê·¼ì—ëŠ” jsonì„ ë” ë§ì´ ì´ìš©
    // ë¹„ë™ê¸°ì‹ì´ë€ ì—¬ëŸ¬ê°€ì§€ ì¼ì´ ë™ì‹œì ìœ¼ë¡œ ë°œìƒí•œë‹¤ëŠ” ëœ»ìœ¼ë¡œ, ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸

    // AJAX ì“°ëŠ” ë‹¤ì–‘í•œ ë°©ë²•
    // 1. XMLHttpRequest(XHR) ê°ì²´ - (ì˜ì•ˆì”€)
    // ì´ë¦„ì— XMLì´ ë“¤ì–´ê°€ê¸´ í•˜ì§€ë§Œ, XML ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ
    // 2. fetch() í•¨ìˆ˜ - ES6ì°¨ì˜ HTTP ìš”ì²­ í•¨ìˆ˜
    // 3. axios - ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬(ë§ì´ ì”€)

    // ê¸°ì¡´ì—ëŠ” XMLHttpRequestë¥¼ ì‚¬ìš©í•´ AJAX ìš”ì²­ì„ ì²˜ë¦¬í–ˆì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ì´ ì¡´ì¬
    // 1) ë¬¸ë²•ì´ ë³µì¡í•˜ê³  ê°€ë…ì„±ì´ ë–¨ì–´ì§
    // 2) Promise ê¸°ë°˜ì´ ì•„ë‹˜
    // 3) JSON, FormData, Blob ë“± í˜„ëŒ€ì  ë°ì´í„° ì²˜ë¦¬ì— ë¶ˆí¸

    // ì´ë¥¼ ê°œì„ í•œ Fetch API
    // 1) ë” ê¹”ë”í•˜ê³  ì„ ì–¸ì ì¸ ë¬¸ë²•
    // 2) Promise ê¸°ë°˜ ë¹„ë™ê¸° ì²˜ë¦¬
    // 3) JSON, FormData, Blob, í…ìŠ¤íŠ¸, ìŠ¤íŠ¸ë¦¼ ë“± ë‹¤ì–‘í•œ ì‘ë‹µ ì²˜ë¦¬ ì§€ì›

    // ì£¼ìš” ì†ì„±
    // method: HTTP ìš”ì²­ ë©”ì†Œë“œ(GET, POST, PUT, DELETE ë“±)
    // body: ì„œë²„ë¡œ ì „ì†¡í•  ë°ì´í„°
    // content-type ì •ì˜: ì„œë²„ì— ì „ì†¡í•˜ëŠ” ë°ì´í„°ì˜ íƒ€ì…ì„ ì§€ì •

    // Content-Type ì •ë¦¬(HTTP POST ìš”ì²­ ì‹œ ì£¼ìš” ë°ì´í„° í˜•ì‹)
    // Content-Type                      | ì „ì†¡ í˜•ì‹ ì˜ˆì‹œ         | ì„¤ëª…
    // application/json                  | JSON.stringify(data)   | JSON í¬ë§·(ëŒ€ë¶€ë¶„ì˜ APIê°€ ì„ í˜¸í•¨)
    // application/x-www-form-urlencoded | key=value&key2=value2  | HTML form ë°©ì‹(ê¸°ë³¸ form ì „ì†¡)
    // multipart/form-data               | FormData(íŒŒì¼ í¬í•¨)    | íŒŒì¼ ì—…ë¡œë“œë‚˜ ë³µí•© ë°ì´í„° ì „ì†¡ì— ì‚¬ìš©(boundary ìë™ ìƒì„±ë¨)
    // text/plain                        | "ë‹¨ìˆœ í…ìŠ¤íŠ¸"          | ìˆœìˆ˜ í…ìŠ¤íŠ¸ ë¬¸ìì—´ ì „ì†¡. í…ìŠ¤íŠ¸ ìì²´ë¥¼ ì „ë‹¬

    // GET - idê°€ 1ì¸ ë°ì´í„° ì¡°íšŒ
    fetch('https://jsonplaceholder.typicode.com/posts/1') // ë°›ì•„ì˜¤ë©´(ì„±ê³µí•˜ë©´) then ì‹¤í–‰
      .then((response) => {
        console.log(response);// Response ê°ì²´
        // Response ê°ì²´ëŠ” ë³¸ë¬¸(body)ì„ í¬í•¨í•˜ê³  ìˆì§€ë§Œ, ê·¸ ìì²´ë¡œëŠ” ë‚´ìš©ì„ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ
        return response.json(); // ì‘ë‹µë°›ì€ ë°ì´í„°ê°€ JSON í¬ë§·ì¼ ê²½ìš°, JSON ë¬¸ìì—´ì„ JS ê°ì²´ë¡œ ë³€í™˜
        // ì‘ë‹µë°›ì€ ë°ì´í„°(ë¬¸ìì—´)ë¥¼ íŒŒì‹±í•´ì„œ JS ê°ì²´ë¡œ ë°˜í™˜í•¨
      })
      .then((data) => { // ì‹¤ì œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” JS ê°ì²´ // ì•ì—ì„œ ë¦¬í„´í•œ ê°’ì´ ë„˜ì–´ì˜´(í”„ë¡œë¯¸ìŠ¤ ê°ì²´)
        console.log(data);
      });
    // .catch(()=>{}); ì‹¤íŒ¨ ì‹œ í˜¸ì¶œ
    // .finally (()=>{}); ì„±ê³µí•˜ë˜ ì‹¤íŒ¨í•˜ë˜ ë¬´ì¡°ê±´ ì‹¤í–‰

    // (ì°¸ê³ ) í”„ë¡œë¯¸ìŠ¤: "ê²°ê³¼ë¥¼ ì•½ì†í•©ë‹ˆë‹¤!"
    // ì˜ˆ: ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê°™ì€ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ë¡œì§ì„ í†µí•´ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ë©´
    // ê·¸ ë•Œ ë„¤ê²Œ then()ì— ë“±ë¡í•œ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ê²ƒì„ ì•½ì†í• ê²Œ

    // POST - ë°ì´í„° ìƒì„±
    fetch('https://jsonplaceholder.typicode.com/posts', {
      method: 'POST',
      body: JSON.stringify({
        title: 'foo',
        body: 'bar',
        userId: 1,
      }),
      headers: {
        'Content-type': 'application/json; charset=UTF-8',
      },
    })
      .then((response) => response.json())
      .then(data => console.log(data));

    // PUT - ë°ì´í„° ìˆ˜ì • (ê°ì²´ë¥¼ í†µìœ¼ë¡œ)
    fetch('https://jsonplaceholder.typicode.com/posts/1', {
      method: 'PUT',
      body: JSON.stringify({
        id: 1,
        title: 'foo',
        body: 'bar',
        userId: 1,
      }),
      headers: {
        'Content-type': 'application/json; charset=UTF-8',
      },
    })
      .then((response) => response.json())
      .then((json) => console.log(json));

    // PATCH - ì¼ë¶€ ìˆ˜ì • (ìš”ì†Œ)

    // DELETE - ë°ì´í„° ì‚­ì œ
    fetch('https://jsonplaceholder.typicode.com/posts/1', {
      method: 'DELETE',
    });

  </script>
</body>

</html>

<!-- ë™ê¸°ì‹ê³¼ ë¹„ë™ê¸°ì‹ì˜ ê°€ì¥ í° ì°¨ì´ëŠ”
  ë™ê¸°ì‹ì€ ì‘ë‹µ ì˜¬ ë•Œê¹Œì§€ ë©ˆì¶¤,
  ë¹„ë™ê¸°ì‹ì€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì§„í–‰

  1) ë™ê¸°ì‹ ìš”ì²­(Synchronous Request)
  ìš”ì²­ì„ ë³´ë‚¸ ë’¤, ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ë¸Œë¼ìš°ì €ê°€ ë©ˆì¶¤
  ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ë‹¤ë¥¸ ì‘ì—…ì„ í•  ìˆ˜ ì—†ìŒ
  ì‚¬ìš©ì„±, í¼í¬ë¨¼ìŠ¤ ëª¨ë‘ ë–¨ì–´ì ¸ í˜„ëŒ€ ì›¹ì—ì„œëŠ” ê±°ì˜ ì‚¬ìš© ì•ˆ í•¨

  ì˜ˆì‹œ:
  ì „í†µì ì¸ <form> ì „ì†¡
  ê³¼ê±° ê²°ì œ ëª¨ë“ˆì—ì„œ ì‚¬ìš©

  2) ë¹„ë™ê¸°ì‹ ìš”ì²­(Asynchronous Request)
  ìš”ì²­ì„ ë³´ë‚¸ ë’¤ì—ë„ ë¸Œë¼ìš°ì €ëŠ” ë©ˆì¶”ì§€ ì•Šê³  ë‹¤ë¥¸ ì‘ì—…ì„ ê³„ì†í•  ìˆ˜ ìˆìŒ
  ì„œë²„ ì‘ë‹µì´ ë„ì°©í•˜ë©´ ê·¸ë•Œ ì²˜ë¦¬í•¨
  ì‚¬ìš©ìê°€ í™”ë©´ ì¡°ì‘ì„ ê³„ì†í•  ìˆ˜ ìˆì–´ì„œ UXê°€ ì¢‹ìŒ

  ì˜ˆì‹œ:
  ê²€ìƒ‰ ìë™ì™„ì„±
  ëŒ“ê¸€ ë‹¬ê¸°
  ì‡¼í•‘ëª° ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
  ë¬´í•œ ìŠ¤í¬ë¡¤
-->

<!-- 
  ğŸš« ì‚¬ìš© ìì œ ì´ìœ 
  ë©”ì¸ ì‘ì—…ì´ ë¸”ë¡œí‚¹ë˜ë©° UIê°€ ë©ˆì¶¤(ì›¹ì—ì„œëŠ” ë¸Œë¼ìš°ì €ê°€ ë©ˆì¶¤)
  ì‚¬ìš©ì ê²½í—˜(UX) ì €í•˜
  ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ ì•Šê±°ë‚˜ ê²½ê³  ì¶œë ¥
  Service Worker, Fetch API, async/await ë“±ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥

  ğŸ”´ ë™ê¸°ì‹ ìš”ì²­ì´ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆì˜ ë¸Œë¼ìš°ì € ìƒíƒœ
  UIê°€ ì™„ì „íˆ ë©ˆì¶¤
  ë¸Œë¼ìš°ì €ëŠ” í•´ë‹¹ ìš”ì²­ì´ íƒ€ì„ì•„ì›ƒë˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ì¤‘ë‹¨ë  ë•Œê¹Œì§€ ëŒ€ê¸°
  ì‚¬ìš©ìëŠ” ë¸Œë¼ìš°ì €ê°€ ë¨¹í†µì´ ëœ ê²ƒì²˜ëŸ¼ ëŠë‚Œ
  ë¡œë”© ì¸ë””ì¼€ì´í„°ë‚˜ ì•Œë¦¼ì¡°ì°¨ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
  ì¼ì • ì‹œê°„ ë™ì•ˆ ì•„ë¬´ ì‘ë‹µ ì—†ì´ ë©ˆì¶° ìˆìœ¼ë©´ í¬ë¡¬, ì—£ì§€ ë“±ì€
  â€œí˜ì´ì§€ê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?â€ ê°™ì€ ê²½ê³ ë¥¼ ë„ìš¸ ìˆ˜ ìˆìŒ

  âœ… ê²°ë¡ 
  ì‹¤ë¬´ì—ì„œëŠ” ê±°ì˜ ëŒ€ë¶€ë¶„ ë¹„ë™ê¸° ìš”ì²­ì´ ì‚¬ìš©ë˜ë©°,
  ë™ê¸° ìš”ì²­ì€ ì•„ì£¼ íŠ¹ìˆ˜í•œ ê²½ìš°ë‚˜ ê³¼ê±° ì½”ë“œ í˜¸í™˜ìš©ìœ¼ë¡œë§Œ ë‚¨ì•„ ìˆìŒ
-->
