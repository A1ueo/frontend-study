<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    // AJAXë€?
    // Asynchronous JavaScript and XMLì˜ ì•½ì, ë¹„ë™ê¸° ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ XML
    // ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•´ì„œ ë¹„ë™ê¸°ì‹ìœ¼ë¡œ ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ë°©ì‹. ì´ ë•Œ XMLì„ ì´ìš©
    // ê¼­ XMLì„ ì´ìš©í•  í•„ìš”ëŠ” ì—†ê³ , ìµœê·¼ì—ëŠ” jsonì„ ë” ë§ì´ ì´ìš©
    // ë¹„ë™ê¸°ì‹ì´ë€ ì—¬ëŸ¬ê°€ì§€ ì¼ì´ ë™ì‹œì ìœ¼ë¡œ ë°œìƒí•œë‹¤ëŠ” ëœ»ìœ¼ë¡œ, ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸

    // ê¸°ì¡´ì—ëŠ” XMLHttpRequestë¥¼ ì‚¬ìš©í•´ AJAX ìš”ì²­ì„ ì²˜ë¦¬í–ˆì§€ë§Œ, ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ì´ ì¡´ì¬
    // 1) ë¬¸ë²•ì´ ë³µì¡í•˜ê³  ê°€ë…ì„±ì´ ë–¨ì–´ì§
    // 2) Promise ê¸°ë°˜ì´ ì•„ë‹˜
    // 3) JSON, Blob, FormData ë“± í˜„ëŒ€ì  ë°ì´í„° ì²˜ë¦¬ì— ë¶ˆí¸

    // ì´ë¥¼ ê°œì„ í•œ Fetch API
    // 1) Promise ê¸°ë°˜ ë¹„ë™ê¸° ì²˜ë¦¬
    // 2) ë” ê¹”ë”í•˜ê³  ì„ ì–¸ì ì¸ ë¬¸ë²•
    // 3) JSON, í…ìŠ¤íŠ¸, ìŠ¤íŠ¸ë¦¼ ë“± ë‹¤ì–‘í•œ ì‘ë‹µ ì²˜ë¦¬ ì§€ì›

    // ì£¼ìš” ì†ì„±
    // method: HTTP ìš”ì²­ ë©”ì†Œë“œ(GET, POST, PUT, DELETE ë“±)
    // body: ì„œë²„ë¡œ ì „ì†¡í•  ë°ì´í„°
    // content-type ì •ì˜: ì„œë²„ì— ì „ì†¡í•˜ëŠ” ë°ì´í„°ì˜ íƒ€ì…ì„ ì§€ì •

    // GET - idê°€ 1ì¸ ë°ì´í„° ì¡°íšŒ
    fetch('https://jsonplaceholder.typicode.com/posts/1') // ë°›ì•„ì˜¤ë©´(ì„±ê³µí•˜ë©´) then ì‹¤í–‰
      .then((response) => {
        console.log(response);
        return response.json(); // ì‘ë‹µë°›ì€ ë°ì´í„°(ë¬¸ìì—´)ë¥¼ íŒŒì‹±í•´ì„œ JS ê°ì²´ë¡œ ë°˜í™˜í•¨
      })
      .then((data) => { // ì•ì—ì„œ ë¦¬í„´ ê°’ì´ ë„˜ì–´ì˜´
        console.log(data);
      });
    // .catch(()=>{}); ì‹¤íŒ¨ ì‹œ í˜¸ì¶œ

    // (ì°¸ê³ ) í”„ë¡œë¯¸ìŠ¤: "ê²°ê³¼ë¥¼ ì•½ì†í•©ë‹ˆë‹¤!"
    // ì˜ˆ: ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê°™ì€ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ë¡œì§ì„ í†µí•´ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ë©´
    // ê·¸ ë•Œ ë„¤ê²Œ then()ì— ë“±ë¡í•œ ì½œë°± í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ê²ƒì„ ì•½ì†í• ê²Œ

    // POST - ë°ì´í„° ìƒì„±
    fetch('https://jsonplaceholder.typicode.com/posts', {
      method: 'POST',
      body: JSON.stringify({
        title: 'foo',
        body: 'bar',
        userId: 1,
      }),
      headers: {
        'Content-type': 'application/json; charset=UTF-8',
      },
    })
      .then((response) => response.json())
      .then(data => console.log(data));

    // PUT - ë°ì´í„° ìˆ˜ì • (ê°ì²´ë¥¼ í†µìœ¼ë¡œ)
    fetch('https://jsonplaceholder.typicode.com/posts/1', {
      method: 'PUT',
      body: JSON.stringify({
        id: 1,
        title: 'foo',
        body: 'bar',
        userId: 1,
      }),
      headers: {
        'Content-type': 'application/json; charset=UTF-8',
      },
    })
      .then((response) => response.json())
      .then((json) => console.log(json));

    // PATCH - ì¼ë¶€ ìˆ˜ì • (ìš”ì†Œ)

    // DELETE - ë°ì´í„° ì‚­ì œ
    fetch('https://jsonplaceholder.typicode.com/posts/1', {
      method: 'DELETE',
    });

  </script>
</body>

</html>

<!-- ë™ê¸°ì‹ê³¼ ë¹„ë™ê¸°ì‹ì˜ ê°€ì¥ í° ì°¨ì´ëŠ”
  ë™ê¸°ì‹ì€ ì‘ë‹µ ì˜¬ ë•Œê¹Œì§€ ë©ˆì¶¤,
  ë¹„ë™ê¸°ì‹ì€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ì§„í–‰

  1) ë™ê¸°ì‹ ìš”ì²­(Synchronous Request)
  ìš”ì²­ì„ ë³´ë‚¸ ë’¤, ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ë¸Œë¼ìš°ì €ê°€ ë©ˆì¶¤
  ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ë‹¤ë¥¸ ì‘ì—…ì„ í•  ìˆ˜ ì—†ìŒ
  ì‚¬ìš©ì„±, í¼í¬ë¨¼ìŠ¤ ëª¨ë‘ ë–¨ì–´ì ¸ í˜„ëŒ€ ì›¹ì—ì„œëŠ” ê±°ì˜ ì‚¬ìš© ì•ˆ í•¨

  ì˜ˆì‹œ:
  ì „í†µì ì¸ <form> ì „ì†¡
  ê³¼ê±° ê²°ì œ ëª¨ë“ˆì—ì„œ ì‚¬ìš©

  2) ë¹„ë™ê¸°ì‹ ìš”ì²­(Asynchronous Request)
  ìš”ì²­ì„ ë³´ë‚¸ ë’¤ì—ë„ ë¸Œë¼ìš°ì €ëŠ” ë©ˆì¶”ì§€ ì•Šê³  ë‹¤ë¥¸ ì‘ì—…ì„ ê³„ì†í•  ìˆ˜ ìˆìŒ
  ì„œë²„ ì‘ë‹µì´ ë„ì°©í•˜ë©´ ê·¸ë•Œ ì²˜ë¦¬í•¨
  ì‚¬ìš©ìê°€ í™”ë©´ ì¡°ì‘ì„ ê³„ì†í•  ìˆ˜ ìˆì–´ì„œ UXê°€ ì¢‹ìŒ

  ì˜ˆì‹œ:
  ê²€ìƒ‰ ìë™ì™„ì„±
  ëŒ“ê¸€ ë‹¬ê¸°
  ì‡¼í•‘ëª° ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
  ë¬´í•œ ìŠ¤í¬ë¡¤
-->

<!-- 
  ğŸš« ì‚¬ìš© ìì œ ì´ìœ 
  ë©”ì¸ ì‘ì—…ì´ ë¸”ë¡œí‚¹ë˜ë©° UIê°€ ë©ˆì¶¤(ì›¹ì—ì„œëŠ” ë¸Œë¼ìš°ì €ê°€ ë©ˆì¶¤)
  ì‚¬ìš©ì ê²½í—˜(UX) ì €í•˜
  ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ ì•Šê±°ë‚˜ ê²½ê³  ì¶œë ¥
  Service Worker, Fetch API, async/await ë“±ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥

  ğŸ”´ ë™ê¸°ì‹ ìš”ì²­ì´ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆì˜ ë¸Œë¼ìš°ì € ìƒíƒœ
  UIê°€ ì™„ì „íˆ ë©ˆì¶¤
  ë¸Œë¼ìš°ì €ëŠ” í•´ë‹¹ ìš”ì²­ì´ íƒ€ì„ì•„ì›ƒë˜ê±°ë‚˜ ìˆ˜ë™ìœ¼ë¡œ ì¤‘ë‹¨ë  ë•Œê¹Œì§€ ëŒ€ê¸°
  ì‚¬ìš©ìëŠ” ë¸Œë¼ìš°ì €ê°€ ë¨¹í†µì´ ëœ ê²ƒì²˜ëŸ¼ ëŠë‚Œ
  ë¡œë”© ì¸ë””ì¼€ì´í„°ë‚˜ ì•Œë¦¼ì¡°ì°¨ ë‚˜íƒ€ë‚˜ì§€ ì•ŠìŒ
  ì¼ì • ì‹œê°„ ë™ì•ˆ ì•„ë¬´ ì‘ë‹µ ì—†ì´ ë©ˆì¶° ìˆìœ¼ë©´ í¬ë¡¬, ì—£ì§€ ë“±ì€
  â€œí˜ì´ì§€ê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¢…ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?â€ ê°™ì€ ê²½ê³ ë¥¼ ë„ìš¸ ìˆ˜ ìˆìŒ

  âœ… ê²°ë¡ 
  ì‹¤ë¬´ì—ì„œëŠ” ê±°ì˜ ëŒ€ë¶€ë¶„ ë¹„ë™ê¸° ìš”ì²­ì´ ì‚¬ìš©ë˜ë©°,
  ë™ê¸° ìš”ì²­ì€ ì•„ì£¼ íŠ¹ìˆ˜í•œ ê²½ìš°ë‚˜ ê³¼ê±° ì½”ë“œ í˜¸í™˜ìš©ìœ¼ë¡œë§Œ ë‚¨ì•„ ìˆìŒ
-->
